{"ast":null,"code":"\"use strict\";\n\nconst DOMException = require(\"domexception/webidl2js-wrapper\");\nconst idlUtils = require(\"../generated/utils\");\nconst {\n  closest\n} = require(\"../helpers/traversal\");\nconst {\n  isDisabled,\n  isButton,\n  isSubmitButton\n} = require(\"../helpers/form-controls\");\nconst Blob = require(\"../generated/Blob.js\");\nconst File = require(\"../generated/File.js\");\nconst conversions = require(\"webidl-conversions\");\nexports.implementation = class FormDataImpl {\n  constructor(globalObject, args) {\n    this._globalObject = globalObject;\n    this._entries = [];\n    if (args[0] !== undefined) {\n      const [form, submitter = null] = args;\n      if (submitter !== null) {\n        if (!isSubmitButton(submitter)) {\n          throw new TypeError(\"The specified element is not a submit button\");\n        }\n        if (submitter.form !== form) {\n          throw DOMException.create(this._globalObject, [\"The specified element is not owned by this form element\", \"NotFoundError\"]);\n        }\n      }\n      this._entries = constructTheEntryList(form, submitter);\n    }\n  }\n  append(name, value, filename) {\n    const entry = createAnEntry(name, value, filename);\n    this._entries.push(entry);\n  }\n  delete(name) {\n    this._entries = this._entries.filter(entry => entry.name !== name);\n  }\n  get(name) {\n    const foundEntry = this._entries.find(entry => entry.name === name);\n    return foundEntry !== undefined ? idlUtils.tryWrapperForImpl(foundEntry.value) : null;\n  }\n  getAll(name) {\n    return this._entries.filter(entry => entry.name === name).map(entry => idlUtils.tryWrapperForImpl(entry.value));\n  }\n  has(name) {\n    return this._entries.findIndex(entry => entry.name === name) !== -1;\n  }\n  set(name, value, filename) {\n    const entry = createAnEntry(name, value, filename);\n    const foundIndex = this._entries.findIndex(e => e.name === name);\n    if (foundIndex !== -1) {\n      this._entries[foundIndex] = entry;\n      this._entries = this._entries.filter((e, i) => e.name !== name || i === foundIndex);\n    } else {\n      this._entries.push(entry);\n    }\n  }\n  *[Symbol.iterator]() {\n    for (const entry of this._entries) {\n      yield [entry.name, idlUtils.tryWrapperForImpl(entry.value)];\n    }\n  }\n};\nfunction createAnEntry(name, value, filename) {\n  const entry = {\n    name\n  };\n\n  // https://github.com/whatwg/xhr/issues/75\n\n  if (Blob.isImpl(value) && !File.isImpl(value)) {\n    const oldValue = value;\n    value = File.createImpl(value._globalObject, [[], \"blob\", {\n      type: oldValue.type\n    }]);\n    // \"representing the same bytes\"\n    value._buffer = oldValue._buffer;\n  }\n  if (File.isImpl(value) && filename !== undefined) {\n    const oldValue = value;\n    value = File.createImpl(value._globalObject, [[], filename,\n    // spec makes no mention of `lastModified`; assume it is inherited\n    // (Chrome's behavior)\n    {\n      type: oldValue.type,\n      lastModified: oldValue.lastModified\n    }]);\n    // \"representing the same bytes\"\n    value._buffer = oldValue._buffer;\n  }\n  entry.value = value;\n  return entry;\n}\nfunction constructTheEntryList(form, submitter) {\n  // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#constructing-the-form-data-set\n  // TODO: handle encoding\n  // TODO: handling \"constructing entry list\"\n\n  const controls = form._getSubmittableElementNodes();\n  const entryList = [];\n  for (const field of controls) {\n    if (closest(field, \"datalist\") !== null) {\n      continue;\n    }\n    if (isDisabled(field)) {\n      continue;\n    }\n    if (isButton(field) && field !== submitter) {\n      continue;\n    }\n    if (field.type === \"checkbox\" && field._checkedness === false) {\n      continue;\n    }\n    if (field.type === \"radio\" && field._checkedness === false) {\n      continue;\n    }\n    if (field.localName === \"object\") {\n      // in jsdom, no objects are \"using a plugin\"\n      continue;\n    }\n    const name = field.getAttributeNS(null, \"name\");\n    if (field.localName === \"input\" && field.type === \"image\") {\n      const prefix = name ? `${name}.` : \"\";\n      const coordinate = field._selectedCoordinate ?? {\n        x: 0,\n        y: 0\n      };\n      appendAnEntry(entryList, `${prefix}x`, coordinate.x);\n      appendAnEntry(entryList, `${prefix}y`, coordinate.y);\n      continue;\n    }\n\n    // TODO: handle form-associated custom elements.\n\n    if (name === null || name === \"\") {\n      continue;\n    }\n    if (field.localName === \"select\") {\n      for (const option of field.options) {\n        if (option._selectedness === true && !isDisabled(field)) {\n          appendAnEntry(entryList, name, option._getValue());\n        }\n      }\n    } else if (field.localName === \"input\" && (field.type === \"checkbox\" || field.type === \"radio\")) {\n      const value = field.hasAttributeNS(null, \"value\") ? field.getAttributeNS(null, \"value\") : \"on\";\n      appendAnEntry(entryList, name, value);\n    } else if (field.type === \"file\") {\n      if (field.files.length === 0) {\n        const value = File.createImpl(form._globalObject, [[], \"\", {\n          type: \"application/octet-stream\"\n        }]);\n        appendAnEntry(entryList, name, value);\n      } else {\n        for (let i = 0; i < field.files.length; ++i) {\n          appendAnEntry(entryList, name, field.files.item(i));\n        }\n      }\n    } else {\n      appendAnEntry(entryList, name, field._getValue());\n    }\n    const dirname = field.getAttributeNS(null, \"dirname\");\n    if (dirname !== null && dirname !== \"\") {\n      const dir = \"ltr\"; // jsdom does not (yet?) implement actual directionality\n      appendAnEntry(entryList, dirname, dir);\n    }\n  }\n\n  // TODO: formdata event\n\n  return entryList;\n}\nfunction appendAnEntry(entryList, name, value) {\n  name = conversions.USVString(name);\n  if (!File.isImpl(value)) {\n    value = conversions.USVString(value);\n  }\n  const entry = createAnEntry(name, value);\n  entryList.push(entry);\n}","map":{"version":3,"names":["DOMException","require","idlUtils","closest","isDisabled","isButton","isSubmitButton","Blob","File","conversions","exports","implementation","FormDataImpl","constructor","globalObject","args","_globalObject","_entries","undefined","form","submitter","TypeError","create","constructTheEntryList","append","name","value","filename","entry","createAnEntry","push","delete","filter","get","foundEntry","find","tryWrapperForImpl","getAll","map","has","findIndex","set","foundIndex","e","i","Symbol","iterator","isImpl","oldValue","createImpl","type","_buffer","lastModified","controls","_getSubmittableElementNodes","entryList","field","_checkedness","localName","getAttributeNS","prefix","coordinate","_selectedCoordinate","x","y","appendAnEntry","option","options","_selectedness","_getValue","hasAttributeNS","files","length","item","dirname","dir","USVString"],"sources":["/Users/bernard/Downloads/my-app/node_modules/jsdom/lib/jsdom/living/xhr/FormData-impl.js"],"sourcesContent":["\"use strict\";\nconst DOMException = require(\"domexception/webidl2js-wrapper\");\nconst idlUtils = require(\"../generated/utils\");\nconst { closest } = require(\"../helpers/traversal\");\nconst { isDisabled, isButton, isSubmitButton } = require(\"../helpers/form-controls\");\nconst Blob = require(\"../generated/Blob.js\");\nconst File = require(\"../generated/File.js\");\nconst conversions = require(\"webidl-conversions\");\n\nexports.implementation = class FormDataImpl {\n  constructor(globalObject, args) {\n    this._globalObject = globalObject;\n    this._entries = [];\n\n    if (args[0] !== undefined) {\n      const [form, submitter = null] = args;\n      if (submitter !== null) {\n        if (!isSubmitButton(submitter)) {\n          throw new TypeError(\"The specified element is not a submit button\");\n        }\n        if (submitter.form !== form) {\n          throw DOMException.create(this._globalObject, [\n            \"The specified element is not owned by this form element\",\n            \"NotFoundError\"\n          ]);\n        }\n      }\n      this._entries = constructTheEntryList(form, submitter);\n    }\n  }\n\n  append(name, value, filename) {\n    const entry = createAnEntry(name, value, filename);\n    this._entries.push(entry);\n  }\n\n  delete(name) {\n    this._entries = this._entries.filter(entry => entry.name !== name);\n  }\n\n  get(name) {\n    const foundEntry = this._entries.find(entry => entry.name === name);\n    return foundEntry !== undefined ? idlUtils.tryWrapperForImpl(foundEntry.value) : null;\n  }\n\n  getAll(name) {\n    return this._entries.filter(entry => entry.name === name).map(entry => idlUtils.tryWrapperForImpl(entry.value));\n  }\n\n  has(name) {\n    return this._entries.findIndex(entry => entry.name === name) !== -1;\n  }\n\n  set(name, value, filename) {\n    const entry = createAnEntry(name, value, filename);\n\n    const foundIndex = this._entries.findIndex(e => e.name === name);\n    if (foundIndex !== -1) {\n      this._entries[foundIndex] = entry;\n      this._entries = this._entries.filter((e, i) => e.name !== name || i === foundIndex);\n    } else {\n      this._entries.push(entry);\n    }\n  }\n\n  * [Symbol.iterator]() {\n    for (const entry of this._entries) {\n      yield [entry.name, idlUtils.tryWrapperForImpl(entry.value)];\n    }\n  }\n};\n\nfunction createAnEntry(name, value, filename) {\n  const entry = { name };\n\n  // https://github.com/whatwg/xhr/issues/75\n\n  if (Blob.isImpl(value) && !File.isImpl(value)) {\n    const oldValue = value;\n    value = File.createImpl(value._globalObject, [\n      [],\n      \"blob\",\n      { type: oldValue.type }\n    ]);\n    // \"representing the same bytes\"\n    value._buffer = oldValue._buffer;\n  }\n\n  if (File.isImpl(value) && filename !== undefined) {\n    const oldValue = value;\n    value = File.createImpl(value._globalObject, [\n      [],\n      filename,\n      // spec makes no mention of `lastModified`; assume it is inherited\n      // (Chrome's behavior)\n      { type: oldValue.type, lastModified: oldValue.lastModified }\n    ]);\n    // \"representing the same bytes\"\n    value._buffer = oldValue._buffer;\n  }\n\n  entry.value = value;\n\n  return entry;\n}\n\nfunction constructTheEntryList(form, submitter) {\n  // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#constructing-the-form-data-set\n  // TODO: handle encoding\n  // TODO: handling \"constructing entry list\"\n\n  const controls = form._getSubmittableElementNodes();\n  const entryList = [];\n\n  for (const field of controls) {\n    if (closest(field, \"datalist\") !== null) {\n      continue;\n    }\n    if (isDisabled(field)) {\n      continue;\n    }\n    if (isButton(field) && field !== submitter) {\n      continue;\n    }\n    if (field.type === \"checkbox\" && field._checkedness === false) {\n      continue;\n    }\n    if (field.type === \"radio\" && field._checkedness === false) {\n      continue;\n    }\n    if (field.localName === \"object\") { // in jsdom, no objects are \"using a plugin\"\n      continue;\n    }\n\n    const name = field.getAttributeNS(null, \"name\");\n    if (field.localName === \"input\" && field.type === \"image\") {\n      const prefix = name ? `${name}.` : \"\";\n      const coordinate = field._selectedCoordinate ?? { x: 0, y: 0 };\n      appendAnEntry(entryList, `${prefix}x`, coordinate.x);\n      appendAnEntry(entryList, `${prefix}y`, coordinate.y);\n      continue;\n    }\n\n    // TODO: handle form-associated custom elements.\n\n    if (name === null || name === \"\") {\n      continue;\n    }\n\n    if (field.localName === \"select\") {\n      for (const option of field.options) {\n        if (option._selectedness === true && !isDisabled(field)) {\n          appendAnEntry(entryList, name, option._getValue());\n        }\n      }\n    } else if (field.localName === \"input\" && (field.type === \"checkbox\" || field.type === \"radio\")) {\n      const value = field.hasAttributeNS(null, \"value\") ? field.getAttributeNS(null, \"value\") : \"on\";\n      appendAnEntry(entryList, name, value);\n    } else if (field.type === \"file\") {\n      if (field.files.length === 0) {\n        const value = File.createImpl(form._globalObject, [[], \"\", { type: \"application/octet-stream\" }]);\n        appendAnEntry(entryList, name, value);\n      } else {\n        for (let i = 0; i < field.files.length; ++i) {\n          appendAnEntry(entryList, name, field.files.item(i));\n        }\n      }\n    } else {\n      appendAnEntry(entryList, name, field._getValue());\n    }\n\n    const dirname = field.getAttributeNS(null, \"dirname\");\n    if (dirname !== null && dirname !== \"\") {\n      const dir = \"ltr\"; // jsdom does not (yet?) implement actual directionality\n      appendAnEntry(entryList, dirname, dir);\n    }\n  }\n\n  // TODO: formdata event\n\n  return entryList;\n}\n\nfunction appendAnEntry(entryList, name, value) {\n  name = conversions.USVString(name);\n  if (!File.isImpl(value)) {\n    value = conversions.USVString(value);\n  }\n  const entry = createAnEntry(name, value);\n  entryList.push(entry);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}